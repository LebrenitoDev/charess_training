{"version":3,"sources":["webpack:///src/app/configuration/institution/form/institution.form.component.html","webpack:///src/app/configuration/institution/form/institution.form.component.ts","webpack:///src/app/configuration/institution/institution-routing.module.ts","webpack:///src/app/configuration/institution/institution.model.ts","webpack:///src/app/configuration/institution/institution.module.ts","webpack:///src/app/configuration/institution/institution.service.ts","webpack:///src/app/configuration/institution/page/institution.page.component.html","webpack:///src/app/configuration/institution/page/institution.page.component.ts"],"names":["InstitutionFormComponent","fb","router","service","snack","parent","FormControl","locationAddress","placeArray","locationArray","st","getCurrentNavigation","extras","state","title","fg","group","place","Institution","setValue","places","valueChanges","pipe","startWith","map","value","trim","length","getPlaces","toLowerCase","name","subscribe","res","locations","getLocations","fullname","ob","color","text","open","duration","verticalPosition","horizontalPosition","panelClass","toast","back","err","console","error","log","save","success","navigate","submit","routes","path","component","InstitutionPageComponent","InstitutionRoutingModule","RouterModule","institution","id","textAddress","managers","Manager","manager","identifier","firstName","lastName","email","InstitutionModule","InstitutionService","CommonModule","FormsModule","ReactiveFormsModule","MatTableModule","MatPaginatorModule","MatFormFieldModule","MatInputModule","MatSnackBarModule","MatButtonModule","MatIconModule","MatDialogModule","MatSortModule","MatToolbarModule","MatSelectModule","MatDatepickerModule","MatCheckboxModule","MatTabsModule","MaterialFileInputModule","MatMenuModule","MatProgressSpinnerModule","TranslateModule","NgxDatatableModule","MatAutocompleteModule","http","api","environment","get","criteria","post","put","UnsubscribeOnDestroyAdapter","dialog","rows","data","filteredData","columns","set","getInstitutions","event","val","target","cols","keys","Object","filter","item","i","toString","indexOf","table","offset","row","dialogRef","DeleteComponent","subs","sink","afterClosed","result","deleteInstitution","navigateByUrl","skipLocationChange","then","DatatableComponent","filterDatatable","add"],"mappings":"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","file":"src_app_configuration_institution_institution_module_ts-es5.js","sourcesContent":["<section class=\"content\">\n    <div class=\"container-fluid\">\n        <div class=\"block-header\">\n            <div class=\"row\">\n                <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n                    <h4 class=\"page-title\">{{title | translate}}</h4>\n                    <br/>\n                </div>\n            </div>\n        </div>\n        <div class=\"row clearfix\">\n            <div>\n                <div class=\"card\">\n                    <div class=\"body\">\n                        <form [formGroup]=\"fg\" (submit)=\"submit(fg.value)\">\n                            <div class=\"row\">\n                                <div class=\"col-6\">\n                                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                                        <mat-label>{{'Name' | translate}}</mat-label>\n                                        <input matInput formControlName=\"name\" required>\n                                        <mat-error *ngIf=\"fg.get('name').hasError('')\">{{'This field is required' | translate}}</mat-error>\n                                    </mat-form-field>\n                                </div>\n                                <div class=\"col-6\">\n                                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                                        <mat-label>{{'Parent' | translate}}</mat-label>\n                                        <input type=\"text\" matInput [formControl]=\"parent\" [matAutocomplete]=\"autoParent\">\n                                        <mat-autocomplete autoActiveFirstOption #autoParent=\"matAutocomplete\" [displayWith]=\"display\">\n                                            <mat-option *ngFor=\"let p of places | async\" [value]=\"p\">{{p.name}}</mat-option>\n                                        </mat-autocomplete>\n                                    </mat-form-field>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-6\">\n                                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                                        <mat-label>{{'Text Address' | translate}}</mat-label>\n                                        <input matInput formControlName=\"textAddress\">\n                                    </mat-form-field>\n                                </div>\n                                <div class=\"col-6\">\n                                    <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                                        <mat-label>{{'Location Address' | translate}}</mat-label>\n                                        <input type=\"text\" matInput [formControl]=\"locationAddress\" [matAutocomplete]=\"autoLoation\">\n                                        <mat-autocomplete autoActiveFirstOption #autoLoation=\"matAutocomplete\" [displayWith]=\"display\">\n                                            <mat-option *ngFor=\"let l of locations | async\" [value]=\"l\">{{l.fullname}}</mat-option>\n                                        </mat-autocomplete>\n                                    </mat-form-field>\n                                </div>\n                            </div>\n\n\n\n\n\n\n\n                            <div class=\"row\">\n                                <div class=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-2\">\n                                    <div class=\"example-button-row\">\n                                        <div class=\"example-button-row\">\n                                            <button mat-raised-button color=\"primary\" [type]=\"submit\" [disabled]=\"!fg.valid\">{{\"Save\" | translate}}</button>\n                                            <button mat-raised-button color=\"warn\" (click)=\"back()\" tabindex=\"-1\">{{\"Cancel\" | translate}}</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n","import {Component, Inject, OnDestroy, OnInit} from \"@angular/core\";\nimport {\n    AbstractControl,\n    FormArray,\n    FormBuilder,\n    FormControl,\n    FormGroup,\n    ValidationErrors,\n    Validators\n} from \"@angular/forms\";\nimport {Institution, Manager} from \"../institution.model\";\nimport {Observable, map} from \"rxjs\";\nimport {InstitutionService} from \"../institution.service\";\nimport {startWith} from \"rxjs/operators\";\nimport {Router} from \"@angular/router\";\nimport {MatSnackBar} from \"@angular/material/snack-bar\";\nimport {HttpErrorResponse} from \"@angular/common/http\";\nimport {User} from \"../../../core/models/security/user\";\nimport {MAT_DIALOG_DATA} from \"@angular/material/dialog\";\nimport {TopicService} from \"../../topic/topic.service\";\nimport {Topic} from \"../../topic/topic.model\";\nimport {sync} from \"glob\";\n\n@Component({\n    selector: 'app-form',\n    templateUrl: './institution.form.component.html'\n})\n\nexport class InstitutionFormComponent implements OnInit {\n\n    fg: FormGroup;\n    title: string;\n    place: Institution;\n    parent = new FormControl();\n    locationAddress = new FormControl();\n    places: Observable<Institution[]>;\n    locations: Observable<Location[]>;\n    placeArray = [];\n    locationArray = [];\n\n    constructor(private fb: FormBuilder, private router: Router, private service: InstitutionService, private snack: MatSnackBar){\n        const st = this.router.getCurrentNavigation().extras.state;\n        this.title = st?'Edit the current institution':'Create new institution';\n        this.fg = this.fb.group(st?st.place: new Institution({}));\n        if(st && st.place && st.place.parent)\n            this.parent.setValue(st.place.parent);\n        if(st && st.place && st.place.locationAddress)\n            this.locationAddress.setValue(st.place.locationAddress)\n\n    }\n\n    ngOnInit(){\n        this.places = this.parent.valueChanges.pipe(startWith(''),\n            map(value => {\n                if(typeof value==='string' && value.trim().length < 1)\n                    return [];\n                this.service.getPlaces(typeof value==='string'?value.toLowerCase():value.name).subscribe((res)=>{\n                    this.placeArray = res;\n                });\n                return this.placeArray;\n            })\n        );\n        this.locations = this.locationAddress.valueChanges.pipe(startWith(''),\n            map(value => {\n                if(typeof value==='string' && value.trim().length < 1)\n                    return [];\n                this.service.getLocations(typeof value==='string'?value.toLowerCase(): value.fullname).subscribe((res)=>{\n                    this.locationArray = res;\n                });\n                return this.locationArray;\n            })\n        );\n    }\n\n    display(ob): string {\n        if(!ob)\n            return;\n        return ob.fullname?ob.fullname:ob.name;\n    }\n\n    create(): FormGroup {\n        return;\n    }\n\n    private toast(color, text) {\n        this.snack.open(text, '', {\n            duration: 2000, verticalPosition: 'top', horizontalPosition: 'right', panelClass: color,\n        });\n    }\n\n    private success(){\n        this.toast('bg-green','The usr has been successfully created');\n        this.back();\n    }\n\n    private error(err: HttpErrorResponse){\n        this.toast('bg-red','Something went wrong the usr has not been created. Please, try again!');\n        console.error(err);\n    }\n\n    submit(ob: any): void {\n        ob.parent = this.parent.value;\n        ob.locationAddress = this.locationAddress.value;\n        console.log(ob);\n        this.service.save(ob).subscribe(\n            (res) => this.success(),\n            (err) => this.error(err)\n        );\n    }\n\n    back(){\n        this.router.navigate(['configuration/institution/page']);\n    }\n}\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {InstitutionPageComponent} from \"./page/institution.page.component\";\r\nimport {InstitutionFormComponent} from \"./form/institution.form.component\";\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: 'page',\r\n        component: InstitutionPageComponent,\r\n    },\r\n    {\r\n        path: 'form',\r\n        component: InstitutionFormComponent,\r\n    },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InstitutionRoutingModule {}\r\n","export class Institution {\n    id: number;\n    name: string;\n    managers?: [{Manager}];\n    locationAddress?: Location;\n    textAddress?: string;\n    address?: string;\n    parent?: Institution;\n\n    constructor(institution) {\n        {\n            this.id = institution.id;\n            this.name = institution.name;\n            this.parent = institution.parent || null;\n            this.textAddress = institution.textAddress || '';\n            this.locationAddress = institution.locationAddress || null;\n            this.managers = institution.managers || null;\n        }\n    }\n}\n\nexport class Manager {\n    id: number;\n    identifier: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n\n    constructor(manager) {\n        this.id = manager.id;\n        this.identifier = manager.identifier;\n        this.firstName = manager.firstName;\n        this.lastName = manager.lastName\n        this.email = manager.email;\n    }\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MaterialFileInputModule } from 'ngx-material-file-input';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport {InstitutionRoutingModule} from \"./institution-routing.module\";\r\nimport {InstitutionService} from \"./institution.service\";\r\nimport {InstitutionPageComponent} from \"./page/institution.page.component\";\r\nimport {TranslateModule} from \"@ngx-translate/core\";\r\nimport {NgxDatatableModule} from \"@swimlane/ngx-datatable\";\r\nimport {InstitutionFormComponent} from \"./form/institution.form.component\";\r\nimport {MatAutocompleteModule} from \"@angular/material/autocomplete\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        InstitutionPageComponent,\r\n        InstitutionFormComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatTableModule,\r\n        MatPaginatorModule,\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        MatSnackBarModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatDialogModule,\r\n        MatSortModule,\r\n        MatToolbarModule,\r\n        MatSelectModule,\r\n        MatDatepickerModule,\r\n        MatCheckboxModule,\r\n        MatTabsModule,\r\n        MaterialFileInputModule,\r\n        MatMenuModule,\r\n        MatProgressSpinnerModule,\r\n        TranslateModule,\r\n        InstitutionRoutingModule,\r\n        NgxDatatableModule,\r\n        MatAutocompleteModule\r\n    ],\r\n    providers: [InstitutionService]\r\n})\r\n\r\nexport class InstitutionModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { UnsubscribeOnDestroyAdapter } from 'src/app/shared/UnsubscribeOnDestroyAdapter';\r\nimport {Institution, Manager} from \"./institution.model\";\r\nimport {environment} from \"../../../environments/environment\";\r\nimport {Location} from \"../../core/models/security/location\";\r\n\r\n\r\n@Injectable()\r\nexport class InstitutionService extends UnsubscribeOnDestroyAdapter {\r\n\r\n    api = `${environment.api}/place`;\r\n\r\n    constructor(private http: HttpClient) {\r\n        super();\r\n    }\r\n\r\n    getInstitutions(){\r\n        return this.http.get<Institution[]>(this.api);\r\n    }\r\n\r\n    getPlaces(criteria: string){\r\n        return this.http.get<Institution[]>(`${this.api}/search/${criteria}`);\r\n    }\r\n\r\n    save(place){\r\n        return this.http.post(this.api, place);\r\n    }\r\n\r\n    getLocations(criteria: string){\r\n        return this.http.get<Location[]>(`${environment.api}/location/search/${criteria}`);\r\n    }\r\n\r\n\r\n    deleteInstitution(id: number){\r\n        return this.http.delete(`${environment.api}/place/${id}`);\r\n    }\r\n\r\n\r\n\r\n    getIdentifierOrEmail(criteria){\r\n        return this.http.get<Manager>(`${environment.api}/place/getManagerByIdentifierOrEmail?criteria=${criteria}`);\r\n    }\r\n\r\n\r\n    edit(place){\r\n        return this.http.put(this.api, place);\r\n    }\r\n}\r\n","<section class=\"content\">\n    <div class=\"container-fluid\">\n        <div class=\"row clearfix\">\n            <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <div class=\"card\">\n                    <div class=\"body\">\n                        <div class=\"row\">\n                            <div class=\"col-sm-12\">\n                                <div class=\"ngxTableHeader\">\n                                    <ul class=\"header-buttons-left ms-0 mb-0\">\n                                        <li class=\"dropdown\"><h2><strong>{{'training.configuration.list.facility' | translate}}</strong></h2></li>\n                                        <li class=\"dropdown m-l-20\">\n                                            <label><i class=\"material-icons search-icon\">search</i></label>\n                                            <input placeholder=\"Search\" type=\"text\" class=\"browser-default search-field\" (keyup)='filterDatatable($event)' aria-label=\"Search box\">\n                                        </li>\n                                    </ul>\n                                    <ul class=\"header-buttons\">\n                                        <li>\n                                            <button mat-mini-fab color=\"primary\" (click)=\"add()\">\n                                                <mat-icon class=\"col-white\">add</mat-icon>\n                                            </button>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <ngx-datatable #table class=\"material\" [rows]=\"data\" [sortType]=\"'multi'\" [columnMode]=\"'force'\" [headerHeight]=\"50\" [footerHeight]=\"50\" [rowHeight]=\"'60'\" [limit]=\"10\">\n\n                                    <ngx-datatable-column name=\"{{'Name' | translate}}\" sortable=\"true\" prop=\"name\" [width]=\"170\">\n                                        <ng-template let-row=\"data\" let-value=\"value\" let-i=\"index\" ngx-datatable-cell-t-emplate>{{value}}</ng-template>\n                                    </ngx-datatable-column>\n                                    <ngx-datatable-column name=\"{{'Address' | translate}}\" sortable=\"true\" prop=\"address\" [width]=\"120\">\n                                        <ng-template let-row=\"data\" let-value=\"value\" let-i=\"index\" ngx-datatable-cell-template>{{value}}</ng-template>\n                                    </ngx-datatable-column>\n                                    <ngx-datatable-column name=\"{{'Manager' | translate}}\" sortable=\"true\" prop=\"managers\" [width]=\"100\">\n                                        <ng-template let-row=\"data\" let-value=\"value\" let-i=\"index\" ngx-datatable-cell-template>\n                                            {{value[0]?.fullName}}{{value[1]?', ':''}}{{value[1]?.fullName}}\n                                        </ng-template>\n                                    </ngx-datatable-column>\n                                    <ngx-datatable-column name=\"{{'Parent' | translate}}\" sortable=\"true\" prop=\"parent\" [width]=\"170\">\n                                        <ng-template let-row=\"data\" let-value=\"value\" let-i=\"index\" ngx-datatable-cell-template>{{value?.name}}</ng-template>\n                                    </ngx-datatable-column>\n\n                                    <ngx-datatable-column name=\"Actions\" sortable=\"false\" [maxWidth]=\"105\">\n                                        <ng-template let-value=\"value\" let-row=\"row\" let-rowIndex=\"rowIndex\" ngx-datatable-cell-template>\n                                            <span>\n                                                <button mat-icon-button color=\"accent\" class=\"btn-tbl-edit\" (click)=\"edit(row)\">\n                                                    <mat-icon aria-label=\"Edit\" class=\"col-white\">edit</mat-icon>\n                                                </button>\n                                                <button mat-icon-button color=\"accent\" class=\"btn-tbl-delete\" (click)=\"delete(row)\">\n                                                    <mat-icon aria-label=\"Delete\" class=\"col-white\">delete</mat-icon>\n                                                </button>\n                                            </span>\n                                        </ng-template>\n                                    </ngx-datatable-column>\n\n                                </ngx-datatable>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n","import { Component, OnInit, ViewChild, TemplateRef } from '@angular/core';\nimport { DatatableComponent } from '@swimlane/ngx-datatable';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport {InstitutionService} from \"../institution.service\";\nimport {Institution} from \"../institution.model\";\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {Router} from \"@angular/router\";\nimport {UnsubscribeOnDestroyAdapter} from \"../../../shared/UnsubscribeOnDestroyAdapter\";\nimport {DeleteComponent} from \"../../delete/delete.confirm\";\nimport {HttpErrorResponse} from \"@angular/common/http\";\n\n@Component({\n    selector: 'app-page',\n    templateUrl: './institution.page.component.html'\n})\n\nexport class InstitutionPageComponent extends UnsubscribeOnDestroyAdapter implements OnInit {\n\n    @ViewChild('roleTemplate', { static: true }) roleTemplate: TemplateRef<any>;\n    @ViewChild(DatatableComponent, { static: false }) table: DatatableComponent;\n    rows = [];\n    data = [];\n    institution: Institution | null;\n    filteredData = [];\n    columns = [\n        { name: 'name' },\n        { name: 'address' }\n    ];\n\n    constructor(private service: InstitutionService, private snack: MatSnackBar, public dialog: MatDialog, private router: Router) {\n        super();\n    }\n\n    ngOnInit() {\n        this.set();\n    }\n\n    set(){\n        this.service.getInstitutions().subscribe(res => {\n            this.data = res;\n            console.log(res);\n            this.filteredData = res;\n        });\n    }\n\n    filterDatatable(event){\n        const val = event.target.value.toLowerCase();\n        const cols = this.columns;\n        const keys = Object.keys(this.filteredData[0]);\n        this.data = this.filteredData.filter(function (item) {\n            for (let i = 0; i < cols.length; i++) {\n                if((item[cols[i].name] && item[cols[i].name].toString().toLowerCase().indexOf(val) !==-1) || !val)\n                    return true;\n            }\n        });\n        this.table.offset = 0;\n    }\n\n    delete(row): void {\n        const dialogRef = this.dialog.open(DeleteComponent, {});\n        this.subs.sink = dialogRef.afterClosed().subscribe((result) => {\n            if (result === 1) {\n                this.service.deleteInstitution(row.id).subscribe(\n                    (res) => this.success(),\n                    (err: HttpErrorResponse)=>this.error(err)\n                );\n                this.set();\n            }\n        });\n\n    }\n\n    private toast(color, text) {\n        this.snack.open(text, '', {\n            duration: 2000, verticalPosition: 'top', horizontalPosition: 'right', panelClass: color,\n        });\n    }\n\n    success(){\n        this.router.navigateByUrl('/RefreshComponent', { skipLocationChange: true }).then(() => {\n            this.router.navigate(['/configuration/institution/page']);\n        });\n        this.toast('bg-green','That record has been successfully deleted');\n    }\n\n    private error(err:HttpErrorResponse){\n        this.toast('bg-red','That record is in use somewhere, you have to delete its dependance first!');\n        console.error(err);\n    }\n\n    add(){\n        this.router.navigate(['configuration/institution/form']);\n    }\n\n    edit(row){\n        this.router.navigate(['configuration/institution/form'],{state:{place: row}});\n    }\n}\n"]}